{% extends "PRAdminBundle::layout.html.twig" %}

{% block title %}Administration{% endblock %}
{% block head %}
    {{ parent() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
     
     <link rel="stylesheet" href="{{asset('css/dropzone.css')}}" />
{% endblock %}
{% block menu %}
    {{ render(controller('PRAdminBundle:MenuAdmin:list'))}}
{% endblock %}
{% block pr_vitrine_body %}
    <h2> Gestion de la gallerie : {{galleryName}}  </h2>
    <div>
      Ajouter des images : <br/>
     

      <form action="{{ oneup_uploader_endpoint('gallery') }}" class="dropzone">
      </form>

    </div>

    <div>
      Consulter les images pr√©sentes
      <table id='tableGalleries' name='tableGalleries' class='table table-striped table-bordered table-hover no-foooter dataTable' role="grid">
        <thead>
          <th tabindex="0" rowspan="1" colspan="1"> Nom</th>
          <th tabindex="1" rowspan="1" colspan="1"> Image </th>
          <th tabindex="2" rowspan="1" colspan="1"> Ordre d'apparition</th>
          <th tabindex="3" rowspan="1" colspan="1"> Actions </th>
        </thead>
        <tbody>

            {% for picture in listPictures %}
            <tr>
              <td>{{picture.name}}</td>
              <td><img class="img-thumbnail carsl" width="200px" height="200px" name='{{picture.name}}' src="{{asset(picture.galleryPath ~ picture.name )}}"></td>
              <td>{{picture.pictureOrder}}</td>
              <td>
                <form action="{{path('admin_image_del', {'image' : picture.name , 'galleryName' : galleryName})}}" method="post"  >
                  <input type='submit' value="Supprimer" class='btn btn-danger'/>
                </form>
              </td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>

    <script>
      $(document).ready(function() {
          $('#tableGalleries').DataTable( {
              "order": [[ 2, "asc" ]]
          } );
      } );
    </script>
{% endblock %}
